<!DOCTYPE html>
<html>
<head>
  <title>Mobleysoft Consulting Engagement for Consero: Phase 1 Assessment</title>
  <style>
    /* Basic Styling */
    body { font-family: sans-serif; } 
    #app { max-width: 960px; margin: 0 auto; padding: 20px; display: none; } /* Initially hidden */
    #decryptForm { display: flex; margin-bottom: 20px; }
    #decryptInput { flex: 1; margin-right: 10px; padding: 8px; }
  </style>
</head>
<body>

<div id="decryptForm">
  <input type="text" id="decryptInput" placeholder="Enter decryption code">
  <button id="decryptButton">Decrypt</button>
</div>

<div id="app">
  <header><h1>Phase 1 Assessment and Recommendations for Consero</h1></header>
  <main>
    <section id="website">
      <h2>Website Migration Assessment</h2>
      <p>[Your detailed assessment of the current website and recommendations for Azure migration and Git setup]</p>
    </section>
    <section id="crm">
      <h2>CRM Evaluation</h2>
      <p>[Your comparative analysis of Act! and Microsoft Dynamics 365 Sales, including custom SharePoint/Power Automate consideration]</p>
    </section>
    <section id="cloud">
      <h2>Cloud Collaboration Assessment</h2>
      <p>[Your recommendations for Microsoft 365/Teams, SharePoint structure, and Power Automate workflows]</p>
    </section>
    <section id="laptop">
      <h2>Secure Laptop Configuration</h2>
      <p>[Your recommendations for secure laptop configuration for contractors]</p>
    </section>
  </main>
  <footer><p>&copy; 2024 Mobleysoft</p></footer>
</div>

<script>
  async function encryptInput(input) {
    const encoder = new TextEncoder();
    const data = encoder.encode(input);
    const hashBuffer = await window.crypto.subtle.digest('SHA-256', data);
    return Array.from(new Uint8Array(hashBuffer))
      .map(b => b.toString(16).padStart(2, '0'))
      .join('');
  }

  const storedHash = '74b87337454200d4d33f80c4663dc5e56dadbdc8526eb940561829149377d6e2'; 

  document.getElementById('decryptButton').addEventListener('click', () => {
    const userInput = document.getElementById('decryptInput').value;

    encryptInput(userInput)
      .then(hashedInput => {
        // Normalize both hashes to lowercase to ensure consistent comparison
        const normalizedHashedInput = hashedInput.toLowerCase();
        const normalizedStoredHash = storedHash.toLowerCase();

        console.log("Hashed User Input:", normalizedHashedInput);
        console.log("Stored Hash:", normalizedStoredHash);
      
        if (normalizedHashedInput === normalizedStoredHash) {
          document.getElementById('app').style.display = 'block';
          document.getElementById('decryptForm').style.display = 'none';
        } else {
          alert('Incorrect decryption code.');
        }
      })
      .catch(error => {
        console.error('Error during encryption:', error);
        alert('An error occurred. Please try again.');
      }); 
  });
</script>

</body>
</html>
